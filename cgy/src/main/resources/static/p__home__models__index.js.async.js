(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"6Mbx":function(e,t,a){"use strict";var s=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE")),o=n(a("d6i3")),c=(n(a("LvDl")),a("7DNP")),l=s(a("3eXy")),u=(a("7Qib"),n(a("7rsC"))),i={namespace:"home",state:{test:1},subscriptions:{setup(e){e.dispatch;var t=e.history;return t.listen(e=>{e.pathname})}},effects:{fetchVerifyCode:o.default.mark(function e(t,a){var s,n,r,c;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.call,a.put,a.select,console.log("fetchVerifyCode start"),console.log(l),e.next=6,n(l.getCode,s);case 6:r=e.sent,c=r.data,console.log(c),"0"==c.code?u.default.successToast("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f"):u.default.failToast(c.msg);case 10:case"end":return e.stop()}},e)}),loginVerify:o.default.mark(function e(t,a){var s,n,r,c,i,d;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.call,r=a.put,a.select,e.next=4,n(l.loginVerify,s);case 4:if(c=e.sent,i=c.data,console.log("invoke loginVerify"),console.log(i),"0"!=i.code){e.next=16;break}return u.default.successToast("\u767b\u5f55\u6210\u529f"),d=JSON.stringify(i.data),localStorage.setItem("user",d),e.next=14,r({type:"linkToUser",data:i});case 14:e.next=17;break;case 16:u.default.failToast(i.msg);case 17:case"end":return e.stop()}},e)}),quickLogin:o.default.mark(function e(t,a){var s,n,r,c,i,d;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.call,r=a.put,a.select,e.next=4,n(l.quickLogin,s);case 4:if(c=e.sent,i=c.data,console.log(i),"0"!=i.code){e.next=15;break}return u.default.successToast("\u767b\u5f55\u6210\u529f"),d=JSON.stringify(i.data),localStorage.setItem("user",d),e.next=13,r({type:"linkToUser",data:i});case 13:e.next=16;break;case 15:u.default.failToast(i.msg);case 16:case"end":return e.stop()}},e)}),userRegister:o.default.mark(function e(t,a){var s,n,r,c;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.call,a.put,a.select,e.next=4,n(l.register,s);case 4:r=e.sent,c=r.data,console.log(c),console.log(c.code),"0"==c.code?u.default.successToast("\u6ce8\u518c\u6210\u529f"):u.default.failToast(c.msg);case 9:case"end":return e.stop()}},e)}),login:o.default.mark(function e(t,a){var s,n,r,c,i,d;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.call,r=a.put,a.select,e.next=4,n(l.login,s);case 4:if(c=e.sent,i=c.data,console.log(i),console.log(i.code),"0"!=i.code){e.next=16;break}return u.default.successToast("\u767b\u5f55\u6210\u529f"),d=JSON.stringify(i.data),localStorage.setItem("user",d),e.next=14,r({type:"linkToUser",data:i});case 14:e.next=17;break;case 16:u.default.failToast(i.msg);case 17:case"end":return e.stop()}},e)}),linkToUser:o.default.mark(function e(t,a){var s,n;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,n=a.put,console.log("linkToUser"),e.next=5,n(c.routerRedux.push({pathname:"/user",query:s}));case 5:case"end":return e.stop()}},e)}),updateState:o.default.mark(function e(t,a){var s,n,r;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=t.payload,a.call,n=a.put,e.t0=o.default.keys(s);case 3:if((e.t1=e.t0()).done){e.next=9;break}return r=e.t1.value,e.next=7,n({type:"changeState",payload:{key:r,value:s[r]}});case 7:e.next=3;break;case 9:case"end":return e.stop()}},e)})},reducers:{changeState(e,t){var a=t.payload;return(0,r.default)({},e,{[[a.key]]:a.value})}}};t.default=i}}]);